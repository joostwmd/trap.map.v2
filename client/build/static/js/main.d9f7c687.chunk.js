(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(t,e,n){},46:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var a=n(2),c=n.n(a),r=n(38),i=n.n(r),s=(n(45),n(46),n(13)),o=n(6),u=n(3);var j=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"wlcome to trap map"})})},b=n(18),l=n.n(b),d=n(26),p=n(11),O=n(7),h=n(17),f=n.n(h);var x=function(t){var e=t.track;return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:e.album.images[1].url}),Object(u.jsx)("h4",{children:e.name}),Object(u.jsx)("audio",{controls:!0,children:Object(u.jsx)("source",{src:e.preview_url})})]})};var m=function(t){var e=t.artistName,n=t.artistPicture,a=t.releasedMusic,c=t.links;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:e}),Object(u.jsx)("img",{src:n}),Object(u.jsx)("h4",{children:a}),Object(u.jsx)("a",{href:c.spotify,children:"spotify"}),Object(u.jsx)("a",{href:c.youtube,children:"youtube"}),Object(u.jsx)("a",{href:c.instagram,children:"insta"})]})};var v=function(){var t="https://trapmapversion2.herokuapp.com/",e={artistDB:window.location.pathname.split("/")[2]},n=Object(a.useState)(""),c=Object(O.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(""),o=Object(O.a)(s,2),j=o[0],b=o[1],h=Object(a.useState)(""),v=Object(O.a)(h,2),g=v[0],y=v[1],k=Object(a.useState)({}),w=Object(O.a)(k,2),S=w[0],B=w[1],C=Object(a.useState)([]),J=Object(O.a)(C,2),_=J[0],D=J[1],F=function(){var n=Object(d.a)(l.a.mark((function n(){var a,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.post("".concat(t,"/spotify/loadArtistProfile"),e);case 2:return a=n.sent,n.next=5,a;case 5:return c=n.sent,console.log("spotify data",c),n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),L=function(){var n=Object(d.a)(l.a.mark((function n(){var a,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.post("".concat(t,"/dataBase/artistProfile"),e);case 2:return a=n.sent,n.next=5,a;case 5:return c=n.sent,console.log("db data",c),n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(a.useEffect)((function(){F().then((function(t){i(t.data[0].name),b(t.data[0].images[0].url),y(function(t){var e,n=0,a=0,c=0,r=Object(p.a)(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;"single"===i.album_type?(n++,a++):"album"===i.album_type&&(n+=i.total_tracks,c++)}}catch(s){r.e(s)}finally{r.f()}return"tracks : ".concat(n,", singles : ").concat(a,", albums : ").concat(c)}(t.data[2])),D(t.data[1])})),L().then((function(t){B({spotify:t.data.spotifyLink,youtube:t.data.youtubeLink,instagram:t.data.instagramLink})}))}),[]),Object(u.jsxs)("div",{id:"profileWrapper",children:[Object(u.jsx)(m,{artistName:r,artistPicture:j,releasedMusic:g,links:S}),_.map((function(t){if(null!==t.preview_url)return Object(u.jsx)("div",{children:Object(u.jsx)(x,{track:t})})}))]})},g=n(28),y=n(27);var k=function(t){var e=t.artist;return Object(u.jsx)("div",{id:"mapMakerWrapper",children:Object(u.jsx)("img",{src:e.picture,stlye:{height:10,width:10}})})},w=(n(68),n(22)),S=n.n(w),B=n(40);S.a.workerClass=B.a;var C=function(){var t={latitude:52.520008,longitude:13.404954,width:"100w",height:"100vh",zoom:9,minZoom:9,berlinBounds:[[13.192625881080286,52.38949809002746],[13.659758765765956,52.64256574061617]]},e=Object(a.useState)(t),n=Object(O.a)(e,2),c=n[0],r=n[1],i=Object(a.useState)([]),o=Object(O.a)(i,2),j=o[0],b=o[1];return Object(a.useEffect)((function(){f.a.get("".concat("https://trapmapversion2.herokuapp.com/","/dataBase/map")).then((function(t){console.log("all artists",t),b(t.data)}))}),[]),Object(u.jsx)("div",{children:Object(u.jsx)(y.b,Object(g.a)(Object(g.a)({},c),{},{mapboxApiAccessToken:"pk.eyJ1Ijoiam9vc3R3bWQiLCJhIjoiY2t1NDQ3NmJqMXRwbzJwcGM5a3FuY3B3dCJ9.yyon_mO5Y9sI1WgD-XFDRQ",mapStyle:"mapbox://styles/joostwmd/ckvwifepf21kj15pflu8gbkdd",onViewportChange:function(e){(function(t,e,n){var a=Object(O.a)(n,2),c=Object(O.a)(a[0],2),r=c[0],i=c[1],s=Object(O.a)(a[1],2),o=s[0],u=s[1];return e<r||e>o||t<i||t>u})(e.latitude,e.longitude,t.berlinBounds)||r(e)},children:j.map((function(t){return Object(u.jsx)(y.a,{latitude:t.coordinates[1],longitude:t.coordinates[0],children:Object(u.jsx)(s.b,{to:"".concat(t._id),children:Object(u.jsx)(k,{artist:t})})})}))}))})};var J=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(s.b,{to:"/",children:Object(u.jsx)("button",{children:"home"})}),Object(u.jsx)(s.b,{to:"/map",children:Object(u.jsx)("button",{children:"map"})})]})};var _=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(s.a,{children:[Object(u.jsx)(J,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",element:Object(u.jsx)(j,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/map",element:Object(u.jsx)(C,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/map/:artistDB",element:Object(u.jsx)(v,{})})]})]})})},D=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),r(t),i(t)}))};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root")),D()}},[[69,1,2]]]);
//# sourceMappingURL=main.d9f7c687.chunk.js.map