(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(t,e,a){},46:function(t,e,a){},69:function(t,e,a){"use strict";a.r(e);var c=a(2),n=a.n(c),r=a(38),s=a.n(r),i=(a(45),a(46),a(13)),o=a(7),j=a(3);var u=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"welcome to trap map"})})},b=a(18),l=a.n(b),d=a(26),O=a(11),p=a(6),h=a(17),f=a.n(h);var m=function(t){var e=t.track,a=t.artistName,n=e.artists,r=Object(c.useState)([]),s=Object(p.a)(r,2),i=s[0],o=s[1];return Object(c.useEffect)((function(){!function(){var t,e="feat: ",c=Object(O.a)(n);try{for(c.s();!(t=c.n()).done;){var r=t.value;a!==r.name&&(e+="".concat(r.name,", "))}}catch(s){c.e(s)}finally{c.f()}o(e)}()}),[]),"feat: "===i?Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:e.album.images[1].url}),Object(j.jsx)("h4",{children:e.name}),Object(j.jsx)("audio",{controls:!0,children:Object(j.jsx)("source",{src:e.preview_url})})]}):"feat: "!==i?Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:e.album.images[1].url}),Object(j.jsx)("h4",{children:e.name}),Object(j.jsx)("h5",{children:i.slice(0,-2)}),Object(j.jsx)("audio",{controls:!0,children:Object(j.jsx)("source",{src:e.preview_url})})]}):void 0};var x=function(t){var e=t.artistName,a=t.artistPicture,c=t.releasedMusic,n=t.links;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:e}),Object(j.jsx)("img",{src:a}),Object(j.jsx)("h4",{children:c}),Object(j.jsx)("a",{href:n.spotify,children:"spotify"}),Object(j.jsx)("a",{href:n.youtube,children:"youtube"}),Object(j.jsx)("a",{href:n.instagram,children:"insta"})]})};var v=function(){var t="https://trapmapversion2.herokuapp.com",e={artistID:window.location.pathname.split("/")[2]},a=Object(c.useState)(""),n=Object(p.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)(""),o=Object(p.a)(i,2),u=o[0],b=o[1],h=Object(c.useState)(""),v=Object(p.a)(h,2),g=v[0],y=v[1],k=Object(c.useState)({}),w=Object(p.a)(k,2),S=w[0],B=w[1],_=Object(c.useState)([]),C=Object(p.a)(_,2),J=C[0],N=C[1],D=function(){var a=Object(d.a)(l.a.mark((function a(){var c,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.post("".concat(t,"/spotify/loadArtistProfile"),e);case 2:return c=a.sent,a.next=5,c;case 5:return n=a.sent,console.log("spotify data",n),a.abrupt("return",n);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),F=function(){var a=Object(d.a)(l.a.mark((function a(){var c,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.post("".concat(t,"/dataBase/artistProfile"),e);case 2:return c=a.sent,a.next=5,c;case 5:return n=a.sent,console.log("db data",n),a.abrupt("return",n);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(c.useEffect)((function(){D().then((function(t){console.log(t),s(t.data[0].name),b(t.data[0].images[0].url),y(function(t){var e,a=0,c=0,n=0,r=Object(O.a)(t);try{for(r.s();!(e=r.n()).done;){var s=e.value;"single"===s.album_type?(a++,c++):"album"===s.album_type&&(a+=s.total_tracks,n++)}}catch(i){r.e(i)}finally{r.f()}return"tracks : ".concat(a,", singles : ").concat(c,", albums : ").concat(n)}(t.data[2])),N(t.data[1])})),F().then((function(t){B({spotify:t.data.spotifyLink,youtube:t.data.youtubeLink,instagram:t.data.instagramLink})}))}),[]),Object(j.jsxs)("div",{id:"profileWrapper",children:[Object(j.jsx)(x,{artistName:r,artistPicture:u,releasedMusic:g,links:S}),J.map((function(t){if(null!==t.preview_url)return Object(j.jsx)("div",{children:Object(j.jsx)(m,{track:t,artistName:r})})}))]})},g=a(28),y=a(27);var k=function(t){var e=t.artist;return Object(j.jsx)("div",{children:Object(j.jsx)("img",{alt:"mapmarker",src:e.picture,style:{width:42,height:42,borderRadius:90}})})},w=(a(68),a(22)),S=a.n(w),B=a(40);S.a.workerClass=B.a;var _=function(){var t={latitude:52.520008,longitude:13.404954,width:"100vw",height:"100vh",zoom:9,minZoom:9,berlinBounds:[[13.192625881080286,52.38949809002746],[13.659758765765956,52.64256574061617]]},e=Object(c.useState)(t),a=Object(p.a)(e,2),n=a[0],r=a[1],s=Object(c.useState)([]),o=Object(p.a)(s,2),u=o[0],b=o[1];return Object(c.useEffect)((function(){f.a.get("".concat("https://trapmapversion2.herokuapp.com","/dataBase/map")).then((function(t){console.log("all artists",t.data),b(t.data)}))}),[]),Object(j.jsx)("div",{id:"mapWrapper",children:Object(j.jsx)(y.b,Object(g.a)(Object(g.a)({},n),{},{mapboxApiAccessToken:"pk.eyJ1Ijoiam9vc3R3bWQiLCJhIjoiY2t1NDQ3NmJqMXRwbzJwcGM5a3FuY3B3dCJ9.yyon_mO5Y9sI1WgD-XFDRQ",mapStyle:"mapbox://styles/joostwmd/ckvwifepf21kj15pflu8gbkdd",onViewportChange:function(e){(function(t,e,a){var c=Object(p.a)(a,2),n=Object(p.a)(c[0],2),r=n[0],s=n[1],i=Object(p.a)(c[1],2),o=i[0],j=i[1];return e<r||e>o||t<s||t>j})(e.latitude,e.longitude,t.berlinBounds)||r(e)},children:u.map((function(t){return Object(j.jsx)(y.a,{latitude:t.coordinates[1],longitude:t.coordinates[0],children:Object(j.jsx)("div",{style:{transform:"translate(".concat(-20,"px,").concat(-40,"px)")},children:Object(j.jsx)(i.b,{to:"".concat(t._id),children:Object(j.jsx)(k,{artist:t})})})})}))}))})};var C=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("button",{children:"home"})}),Object(j.jsx)(i.b,{to:"/map",children:Object(j.jsx)("button",{children:"map"})})]})};var J=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(i.a,{children:[Object(j.jsx)(C,{}),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:"/",element:Object(j.jsx)(u,{})}),Object(j.jsx)(o.a,{exact:!0,path:"/map",element:Object(j.jsx)(_,{})}),Object(j.jsx)(o.a,{exact:!0,path:"/map/:artistDB",element:Object(j.jsx)(v,{})})]})]})})},N=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,70)).then((function(e){var a=e.getCLS,c=e.getFID,n=e.getFCP,r=e.getLCP,s=e.getTTFB;a(t),c(t),n(t),r(t),s(t)}))};s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(J,{})}),document.getElementById("root")),N()}},[[69,1,2]]]);
//# sourceMappingURL=main.aec47a1a.chunk.js.map